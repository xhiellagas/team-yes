-- -----------------------------------------------------
-- 1. Create Database
-- -----------------------------------------------------
CREATE DATABASE IF NOT EXISTS it414_db_team_yes;
USE it414_db_team_yes;

-- -----------------------------------------------------
-- 2. RFID Registration Table (rfid_reg)
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS rfid_reg (
    rfid_data VARCHAR(50) PRIMARY KEY,
    rfid_status TINYINT(1) NOT NULL DEFAULT 0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- -----------------------------------------------------
-- 3. RFID Logs Table (rfid_logs)
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS rfid_logs (
    id INT AUTO_INCREMENT PRIMARY KEY,
    time_log DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    rfid_data VARCHAR(50) NOT NULL,
    rfid_status TINYINT(1) NOT NULL,
    FOREIGN KEY (rfid_data) REFERENCES rfid_reg(rfid_data)
);
