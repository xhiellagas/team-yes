{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\robby\\\\Downloads\\\\elec3_UI-main\\\\elec3_UI-main\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport './App.css';\nimport RfidSidebar from './components/RfidSidebar';\nimport LogsTable from './components/LogsTable';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [rfids, setRfids] = useState([]); // Start with empty array\n  const [logs, setLogs] = useState([]); // logs come from DB\n\n  useEffect(() => {\n    localStorage.setItem('rfids', JSON.stringify(rfids));\n  }, [rfids]);\n\n  // Add function to fetch latest data\n  async function fetchLatestRfids() {\n    try {\n      const response = await fetch('http://localhost:3000/rfid_reg');\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      if (!Array.isArray(data)) {\n        console.error('Received non-array data:', data);\n        return;\n      }\n      const transformedData = data.map(item => ({\n        id: item.rfid_data.toString(),\n        tag: item.rfid_data,\n        status: item.rfid_status === 1 ? 1 : 0,\n        lastSeen: undefined,\n        animate: false\n      }));\n      setRfids(transformedData);\n    } catch (error) {\n      console.error('Failed to fetch RFIDs:', error);\n    }\n  }\n\n  // Fetch logs from backend (immutable history)\n  async function fetchLatestLogs() {\n    try {\n      const res = await fetch('http://localhost:3000/rfid_logs');\n      if (!res.ok) throw new Error('Failed to fetch logs');\n      const data = await res.json();\n      const transformedLogs = data.sort((a, b) => new Date(b.time_log).getTime() - new Date(a.time_log).getTime()).map(item => ({\n        id: item.id.toString(),\n        tag: item.rfid_data,\n        status: item.rfid_status === '1' || item.rfid_status === 1 ? 1 : 0,\n        time: new Date(item.time_log).toLocaleString(),\n        preserved: true,\n        statusLabel: item.status_label,\n        currentStatus: item.current_status\n      }));\n      setLogs(transformedLogs);\n    } catch (err) {\n      console.error('Failed to fetch logs:', err);\n    }\n  }\n\n  // Replace the existing polling useEffect with this one\n  useEffect(() => {\n    // Initial fetch\n    fetchLatestRfids();\n    fetchLatestLogs();\n\n    // Set up polling interval\n    const interval = setInterval(() => {\n      fetchLatestRfids();\n      fetchLatestLogs();\n    }, 2000); // Poll every 2 seconds\n\n    return () => clearInterval(interval);\n  }, []); // Empty dependency array\n\n  function genId() {\n    return Math.random().toString(36).slice(2, 9);\n  }\n  function addLog(entry) {\n    // no-op: logs are persisted in DB by backend. UI updates via fetchLatestLogs polling.\n  }\n  async function verifyRfid(tag) {\n    try {\n      const response = await fetch(`http://localhost:3000/rfid_reg/verify/${tag}`);\n      return response.ok;\n    } catch (error) {\n      console.error('Failed to verify RFID:', error);\n      return false;\n    }\n  }\n  async function toggleStatus(id) {\n    const rfid = rfids.find(r => r.id === id);\n    if (!rfid) return;\n    try {\n      const newStatus = rfid.status === 1 ? 0 : 1;\n      const response = await fetch('http://localhost:3000/rfid_reg/status', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          rfid_data: rfid.tag,\n          rfid_status: newStatus\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Failed to update status');\n      }\n      const data = await response.json();\n      if (data.statusChanged) {\n        const time = new Date().toISOString();\n        // Do not add a local log; backend already inserted into rfid_logs.\n        setRfids(prev => prev.map(r => r.id === id ? {\n          ...r,\n          status: newStatus,\n          lastSeen: time,\n          animate: true\n        } : r));\n        setTimeout(() => {\n          setRfids(prev => prev.map(r => r.id === id ? {\n            ...r,\n            animate: false\n          } : r));\n        }, 1000);\n      }\n    } catch (error) {\n      console.error('Failed to toggle status:', error);\n    }\n  }\n  async function addRfid(tag) {\n    try {\n      const response = await fetch('http://localhost:3000/rfid_reg/add', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          rfid_data: tag\n        })\n      });\n      if (!response.ok) {\n        const error = await response.json();\n        console.error('Failed to add RFID:', error);\n        return;\n      }\n      const data = await response.json();\n      const newRfid = {\n        id: data.rfid_data.toString(),\n        tag: data.rfid_data,\n        status: data.rfid_status === 1 ? 1 : 0,\n        lastSeen: undefined\n      };\n      setRfids(prev => [newRfid, ...prev]);\n    } catch (error) {\n      console.error('Failed to add RFID:', error);\n    }\n  }\n  function clearLogs() {\n    try {\n      fetch('http://localhost:3000/rfid_logs/clear', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      setLogs([]);\n    } catch (error) {\n      console.error('Failed to clear logs:', error);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-shell\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-frame\",\n      children: [/*#__PURE__*/_jsxDEV(RfidSidebar, {\n        rfids: rfids,\n        onToggle: toggleStatus,\n        onAdd: addRfid\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(LogsTable, {\n        logs: logs,\n        rfids: rfids,\n        onClear: clearLogs\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 209,\n    columnNumber: 3\n  }, this);\n}\n_s(App, \"NXjBo5EbQjxJ8KfEZMbl/22uMTY=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","RfidSidebar","LogsTable","jsxDEV","_jsxDEV","App","_s","rfids","setRfids","logs","setLogs","localStorage","setItem","JSON","stringify","fetchLatestRfids","response","fetch","ok","Error","status","data","json","Array","isArray","console","error","transformedData","map","item","id","rfid_data","toString","tag","rfid_status","lastSeen","undefined","animate","fetchLatestLogs","res","transformedLogs","sort","a","b","Date","time_log","getTime","time","toLocaleString","preserved","statusLabel","status_label","currentStatus","current_status","err","interval","setInterval","clearInterval","genId","Math","random","slice","addLog","entry","verifyRfid","toggleStatus","rfid","find","r","newStatus","method","headers","body","statusChanged","toISOString","prev","setTimeout","addRfid","newRfid","clearLogs","className","children","onToggle","onAdd","fileName","_jsxFileName","lineNumber","columnNumber","onClear","_c","$RefreshReg$"],"sources":["C:/Users/robby/Downloads/elec3_UI-main/elec3_UI-main/src/App.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './App.css';\nimport RfidSidebar from './components/RfidSidebar';\nimport LogsTable from './components/LogsTable';\n\ntype Rfid = {\n\tid: string;\n\ttag: string;\n\tstatus: 0 | 1;\n\tlastSeen?: string;\n\tanimate?: boolean;\n};\n\ntype LogEntry = {\n\tid: string;\n\ttag: string;\n\tstatus: 0 | 1;\n\ttime: string;\n\tpreserved?: boolean;\n\tstatusLabel?: string;\n\tcurrentStatus?: string;\n};\n\nfunction App() {\n\tconst [rfids, setRfids] = useState<Rfid[]>([]); // Start with empty array\n\tconst [logs, setLogs] = useState<LogEntry[]>([]); // logs come from DB\n\n\tuseEffect(() => {\n\t\tlocalStorage.setItem('rfids', JSON.stringify(rfids));\n\t}, [rfids]);\n\n\t// Add function to fetch latest data\n\tasync function fetchLatestRfids() {\n\t\ttry {\n\t\t\tconst response = await fetch('http://localhost:3000/rfid_reg');\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error(`HTTP error! status: ${response.status}`);\n\t\t\t}\n\t\t\tconst data = await response.json();\n\t\t\t\n\t\t\tif (!Array.isArray(data)) {\n\t\t\t\tconsole.error('Received non-array data:', data);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst transformedData: Rfid[] = data.map((item: any) => ({\n\t\t\t\tid: item.rfid_data.toString(),\n\t\t\t\ttag: item.rfid_data,\n\t\t\t\tstatus: item.rfid_status === 1 ? 1 : 0,\n\t\t\t\tlastSeen: undefined,\n\t\t\t\tanimate: false\n\t\t\t}));\n\n\t\t\tsetRfids(transformedData);\n\t\t} catch (error) {\n\t\t\tconsole.error('Failed to fetch RFIDs:', error);\n\t\t}\n\t}\n\n\t// Fetch logs from backend (immutable history)\n\tasync function fetchLatestLogs() {\n\t\ttry {\n\t\t\tconst res = await fetch('http://localhost:3000/rfid_logs');\n\t\t\tif (!res.ok) throw new Error('Failed to fetch logs');\n\t\t\tconst data = await res.json();\n\t\t\tconst transformedLogs: LogEntry[] = data\n\t\t\t\t.sort((a: any, b: any) => new Date(b.time_log).getTime() - new Date(a.time_log).getTime())\n\t\t\t\t.map((item: any) => ({\n\t\t\t\t\tid: item.id.toString(),\n\t\t\t\t\ttag: item.rfid_data,\n\t\t\t\t\tstatus: item.rfid_status === '1' || item.rfid_status === 1 ? 1 : 0,\n\t\t\t\t\ttime: new Date(item.time_log).toLocaleString(),\n\t\t\t\t\tpreserved: true,\n\t\t\t\t\tstatusLabel: item.status_label,\n\t\t\t\t\tcurrentStatus: item.current_status\n\t\t\t\t}));\n\t\t\tsetLogs(transformedLogs);\n\t\t} catch (err) {\n\t\t\tconsole.error('Failed to fetch logs:', err);\n\t\t}\n\t}\n\n\t// Replace the existing polling useEffect with this one\n\tuseEffect(() => {\n\t\t// Initial fetch\n\t\tfetchLatestRfids();\n\t\tfetchLatestLogs();\n\n\t\t// Set up polling interval\n\t\tconst interval = setInterval(() => {\n\t\t\tfetchLatestRfids();\n\t\t\tfetchLatestLogs();\n\t\t}, 2000); // Poll every 2 seconds\n\n\t\treturn () => clearInterval(interval);\n\t}, []); // Empty dependency array\n\n\tfunction genId() {\n\t\treturn Math.random().toString(36).slice(2, 9);\n\t}\n\n\tfunction addLog(entry: LogEntry) {\n\t\t// no-op: logs are persisted in DB by backend. UI updates via fetchLatestLogs polling.\n\t}\n\n\tasync function verifyRfid(tag: string) {\n\t\ttry {\n\t\t\tconst response = await fetch(`http://localhost:3000/rfid_reg/verify/${tag}`);\n\t\t\treturn response.ok;\n\t\t} catch (error) {\n\t\t\tconsole.error('Failed to verify RFID:', error);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tasync function toggleStatus(id: string) {\n\t\tconst rfid = rfids.find(r => r.id === id);\n\t\tif (!rfid) return;\n\n\t\ttry {\n\t\t\tconst newStatus: 0 | 1 = rfid.status === 1 ? 0 : 1;\n\t\t\t\n\t\t\tconst response = await fetch('http://localhost:3000/rfid_reg/status', {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\trfid_data: rfid.tag,\n\t\t\t\t\trfid_status: newStatus\n\t\t\t\t})\n\t\t\t});\n\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error('Failed to update status');\n\t\t\t}\n\n\t\t\tconst data = await response.json();\n\t\t\t\n\t\t\tif (data.statusChanged) {\n\t\t\t\tconst time = new Date().toISOString();\n\t\t\t\t// Do not add a local log; backend already inserted into rfid_logs.\n\t\t\t\tsetRfids(prev =>\n\t\t\t\t\tprev.map(r => r.id === id ? {\n\t\t\t\t\t\t...r,\n\t\t\t\t\t\tstatus: newStatus,\n\t\t\t\t\t\tlastSeen: time,\n\t\t\t\t\t\tanimate: true\n\t\t\t\t\t} : r)\n\t\t\t\t);\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetRfids(prev =>\n\t\t\t\t\t\tprev.map(r => r.id === id ? { ...r, animate: false } : r)\n\t\t\t\t\t);\n\t\t\t\t}, 1000);\n\t\t\t}\n\n\t\t} catch (error) {\n\t\t\tconsole.error('Failed to toggle status:', error);\n\t\t}\n\t}\n\n\tasync function addRfid(tag: string) {\n\t\ttry {\n\t\t\tconst response = await fetch('http://localhost:3000/rfid_reg/add', {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({ rfid_data: tag })\n\t\t\t});\n\n\t\t\tif (!response.ok) {\n\t\t\t\tconst error = await response.json();\n\t\t\t\tconsole.error('Failed to add RFID:', error);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst data = await response.json();\n\t\t\tconst newRfid: Rfid = {\n\t\t\t\tid: data.rfid_data.toString(),\n\t\t\t\ttag: data.rfid_data,\n\t\t\t\tstatus: data.rfid_status === 1 ? 1 : 0,\n\t\t\t\tlastSeen: undefined\n\t\t\t};\n\n\t\t\tsetRfids(prev => [newRfid, ...prev]);\n\t\t} catch (error) {\n\t\t\tconsole.error('Failed to add RFID:', error);\n\t\t}\n\t}\n\n\tfunction clearLogs() {\n\t\ttry {\n\t\t\tfetch('http://localhost:3000/rfid_logs/clear', {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t}\n\t\t\t});\n\t\t\tsetLogs([]);\n\t\t} catch (error) {\n\t\t\tconsole.error('Failed to clear logs:', error);\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"dashboard-shell\">\n\t\t\t<div className=\"dashboard-frame\">\n\t\t\t\t<RfidSidebar rfids={rfids} onToggle={toggleStatus} onAdd={addRfid} />\n\t\t\t\t<LogsTable logs={logs} rfids={rfids} onClear={clearLogs} />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}